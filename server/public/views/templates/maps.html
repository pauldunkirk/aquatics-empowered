
<div class="container">

  <div class="center-block">
  <a href="#!home1"><img class="mapsLogo img-fluid center-block" src="images/logos/AE_Hi_Res.png" alt="Aquatics Empowered logo"></a>
  </div>

  <div class="row">

  <!-- Form: Input Field and Find Pools Button -->
  <div class="row">
    <form ng-submit="vm.poolSearch()" class="center-block text-center">
      <input ng-model="vm.addr" type="text" class="btn btn-lg myBorder" placeholder="CITY OR ZIP CODE"/>
      <!-- TODO: <button type="submit" class="btn btn-md myBorder yellowBackground">Use Current Location</button> -->
      <button type="submit" class="btn btn-lg myBorder yellowBackground">GET POOLS</button>
    </form>
  </div> <!-- END of Form: Input Field and Find Pools Button -->


<!-- Paul's API key for lazy-load libraries=geometry:
AIzaSyCAlpI__XCJRk774DrR8FMBBaFpEJdkH1o -->
  <div class="row">
    <div class="col-md-8" map-lazy-load="https://maps.google.com/maps/api/js?libraries=geometry&key=AIzaSyCAlpI__XCJRk774DrR8FMBBaFpEJdkH1o">
      <ng-map class="gMap myBorder" center="{{vm.mapCenter}}" zoom="11" on-dragend="vm.newCenter()">
        <marker no-watcher="false"
          ng-repeat="p in vm.markerList"
          position="{{p.position}}"
          title="{{p.title}}"
          distance="{{p.distance}}"
          icon="{{vm.getIcon($index)}}"
          on-click="vm.showDetail(p)"
          ng-if="p.visible"
        />

        <info-window id="pool-iw" position="{{vm.pool.position}}">
          <div ng-non-bindable="">
            <b>{{vm.pool.title}}</b><br/>
            {{vm.pool.distance.toFixed(1)}} miles away<br/>
            {{vm.pool.street_address}}<br/>
            {{vm.pool.city}}, {{vm.pool.state}} {{vm.pool.zip}}<br/>
            <a href="" ng-click="vm.clickedWebsiteLink(vm.pool.website)">Website</a>
          </div>
        </info-window>
      </ng-map>

    </div>

    <!-- Display markerList -->
    <div class="col-md-4 markerList">
      <div ng-repeat="pool in vm.markerList" ng-if="pool.visible" ng-click="vm.showDetail(null, pool)" ng-class="{'selectedPool':vm.pool.id==pool.id}" class="row poolItem myBorder">
       <div class="col-md-2 rank">
         <img ng-src="{{vm.getIcon($index)}}" alt="{{$index + 1}}"  />
         <p>{{pool.distance.toFixed(1)}}mi</p>
       </div> <!-- end ranked icon pin -->
       <div class="col-md-10 info">
         <b>{{pool.title}}</b><br/>
         {{pool.street_address}}<br/>
         {{pool.city}}, {{pool.state}} {{pool.zip}}<br/>
         <a href="" ng-click="vm.clickedWebsiteLink(vm.pool.website)">Website</a>
       </div><!-- end pool name, address row -->
     </div><!-- end poolItem row -->
    </div> <!-- end markerList row -->


  </div> <!-- end map and markerList row -->

  <div class="row">
    <button type="button" name="button" ng-click="vm.logPool()">click to log pool markerList of SELECTED POOL</button>
    <p ng-repeat="review in vm.pool.reviews">
      {{review}}
    </p>
  </div>

</div> <!-- end whole page row -->

</div>
