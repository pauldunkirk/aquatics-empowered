<div class="row">
  <div class="col-md-8" map-lazy-load="https://maps.google.com/maps/api/js?libraries=geometry&key=AIzaSyCAlpI__XCJRk774DrR8FMBBaFpEJdkH1o">
    <form ng-submit="maps.poolSearch()">
      <input id="addressSearch" type="text" ng-model="maps.addr" placeholder="Address or zip code"/>
      <p />
      <input type="number" ng-model="maps.radius" placeholder="Search radius (mi)"/>
      <button class="btn-default" type="submit">Submit</button>
      <button class="btn-default" type="reset" ng-click="maps.reset()">Reset</button>
      <span>Showing (up to) the nearest {{maps.maxMarkers}} pools.</span>
    </form>

    <ng-map class="gMap" center="{{maps.mapCenter}}" zoom="10">

      <marker no-watcher="false"
        ng-repeat="p in maps.markerList"
        position="{{p.position}}"
        title="{{p.title}}"
        proximityRank="{{p.proximityRank}}"
        distance="{{p.distance}}"
        icon="{{'http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=' + p.proximityRank + '|0065BD|FFFFFF' }}"
        on-click="maps.showDetail(p)"
        ng-if="p.visible"
      ></marker>

      <info-window id="pool-iw" position="{{maps.pool.position}}">
        <div ng-non-bindable="">
          <b>{{maps.pool.title}}</b><br/>
          {{maps.pool.street_address}}<br/>
          {{maps.pool.city}}, {{maps.pool.state}} {{maps.pool.zip}}<br/>
          <a href="" ng-click="maps.clicked(maps.pool.website)">Website</a>
        </div>
      </info-window>

    </ng-map>

  </div>
</div>
