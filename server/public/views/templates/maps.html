<div class="container">
  <div class="center-block">
  <a href="#!home"><img class="mapsLogo img-fluid center-block" src="images/logos/AE_Hi_Res.png" alt="Aquatics Empowered logo"></a>
  </div>


<!-- ******************************************************************** -->
  <div class="row"> <!-- begin whole page row -->

<!-- ******************************************************************** -->
    <div class="row"> <!-- Begin Pool Search-->

      <form ng-submit="vm.poolSearch()" class="center-block text-center">
				<input ng-model="vm.addr" type="text" class="btn btn-lg myBorder" placeholder="CITY OR ZIP CODE"/>
				<!-- TODO: Use Current Location button  -->
				<button type="submit" class="btn btn-lg myBorder yellowBackground">GET POOLS</button>
			</form>

    </div> <!-- End Pool Search-->


<!-- ***********************  MAP  ********************************************* -->
    <div class="row"> <!-- begin map (w/ markers, info-window, and separate markers list)-->

      <div class="col-md-8" map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{googleMapsUrl}}">

        <ng-map class="gMap myBorder" center="{{vm.mapCenter}}" zoom="12" on-dragend="vm.newCenter()">
          <!-- center="current-location" zoom="12" -->

        	<marker no-watcher="false"
						ng-repeat="p in vm.markerList"
						position="{{p.position}}"
						title="{{p.title}}"
						distance="{{p.distance}}"
						icon="{{vm.getIcon($index)}}"
						on-click="vm.showDetail(p)"
						ng-if="p.visible"
					/>

<!-- iNFO WINDOW TODO: 1 photo only then click to get others, open elsewhere -->
					<info-window id="pool-iw" position="{{vm.poolDetails.position}}">
						<div ng-non-bindable="">
              <b>{{vm.poolDetails.title}}</b><br/>
              {{vm.poolDetails.street_address}}<br/>
              {{vm.poolDetails.city}}, {{vm.poolDetails.state}} {{vm.poolDetails.zip}}<br/>
              {{vm.poolDetails.phone}}<br>
              <a href="" ng-click="vm.clickedWebsiteLink(vm.poolDetails.website)">Website</a><br>

              <div>

              <span ng-repeat="pic in vm.poolPhotos.photoUrlsArray">
                <img ng-src="{{pic}}" class="infoWindowPics">
                <!-- ng-class="{hoverInfoWindowPics: hover}" -->
                <!-- ng-mouseenter="hover = true" -->
                <!-- ng-mouseleave="hover = false" -->
              </span>

              </div><br>

							<p ng-repeat="r in vm.poolDetails.reviews">
                <img style="height:60px; width:60px;"  class=""ng-src="{{r.url}}"><br>
                {{r.author}}<br>{{r.rating + ' stars '}}<br>{{r.text}}
              </p>
						</div>
					</info-window>

				</ng-map>
			</div> <!--END map and markerList#1 (pins and pop-up info-window)   -->

      <!-- markerList#2: pins(markers) and pool info displayed separate from map-->
			<div class="col-md-4 markerList">
				<div ng-repeat="pool in vm.markerList" ng-if="pool.visible" ng-click="vm.showDetail(null, pool)" ng-class="{'selectedPool':vm.poolDetails.id==pool.id}" class="row poolItem myBorder">

          <div class="col-md-2 rank">
						<img ng-src="{{vm.getIcon($index)}}" alt="{{$index + 1}}"  />
						<p>{{pool.distance.toFixed(1)}} miles away</p>
					</div>

					<div class="col-md-10 info">
						<b>{{pool.title}}</b><br/>
						{{pool.street_address}}<br/>
						{{pool.city}}, {{pool.state}} {{pool.zip}}<br/>
            {{pool.phone}}<br>
						<a href="" ng-click="vm.clickedWebsiteLink(vm.poolDetails.website)">Website</a>
					</div>

				</div>
			</div><!-- end marker list -->

		</div> <!-- end map (w/ markers, info-window, and separate markers list)-->

<!-- ******************************************************************** -->


  </div> <!-- end whole page row -->
</div>
