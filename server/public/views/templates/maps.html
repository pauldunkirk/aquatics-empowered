<div class="container">


    <div class="center-block">
      <span class="col-sm-1"></span>
      <span class="">
        <a style="font-size: 1.2em;" href="#!home" class="col-sm-5 btn btn-default" id="" role="button">HOME</a>
      </span>
      <span class="">
        <a style="font-size: 1.2em;" href="#!therapistMap" class="col-sm-5 btn btn-default" id="" role="button">FIND AN AQUATIC THERAPIST</a>
      </span>
      <span class="col-sm-1"></span>
      <a href="#!home"><img class="mapsLogo img-fluid center-block" src="images/logos/AE_Hi_Res.png" alt="Aquatics Empowered logo"></a>

    </div>
  <!-- ******************************************************************** -->
  <div class="row"> <!-- begin whole page row -->
    <!-- ******************************************************************** -->
    <!-- ___________________FIND A POOL/THERAPIST BUTTONS________________________ -->







<!-- Begin Pool Search-->
    <div class="row">
      <form ng-submit="vm.poolSearch()" class="center-block text-center">
        <input places-auto-complete types="['geocode']" ng-model="vm.addr" type="text" class="btn btn-lg myBorder" placeholder="CITY OR ZIP CODE"/>
        <button type="submit" class="btn btn-lg myBorder yellowBackground">GET POOLS</button>
      </form>



    </div>
    <!--try adding this in  <input above: places-auto-complete types="['geocode']" -->
  <!-- End Pool Search-->



<!-- using this to compare markerList of getAllCoordsAndIds() vs getAllFacilities()   -->
<!-- {{vm.markerList}} -->


    <!-- ***********************  MAP  ********************************************* -->
    <div class="row"> <!-- begin map w/ markers, info-window -->

      <div class="center-block" >
      <!-- map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{googleMapsUrl}}" -->

        <ng-map id="ngmap" class="center-block gMap myBorder"
          center="current-location" geo-callback="vm.getCurrentCenter()" geo-fallback-center="[44.9778, -93.2650]"
          zoom="12" on-dragend="vm.newCenter()"
          map-type-id="SATELLITE" tilt="45" heading="90"
          >
          <!-- ng-click="vm.hideInfoWindowOnClick()" -->
          <!-- center="current-location" -->
          <!-- center="{{vm.mapCenter}}" -->
          <!-- center="current-position"  -->
          <marker no-watcher="false"
          ng-repeat="p in vm.markerList"
          position="{{p.position}}"
          title="{{p.title}}"
          distance="{{p.distance}}"
          icon="{{vm.getIcon($index)}}"
          on-click="vm.showDetail(p)"
          ng-if="p.visible"
          />

          <!-- The 'title' shows when hover (as a tooltip)<marker position="current" centered="true" title="You are Here">
          </> -->
          <custom-marker ng-repeat="cm in vm.markerAtCenter" position="{{vm.mapCenter}}">
              <div class="{{cm.class}}"><div>{{cm.description}}</div> </div>
          </custom-marker>

          <custom-marker ng-repeat="cm in vm.currentLocation" position="current">
              <div class="{{cm.class}}"><div>{{cm.description}}</div> </div>
          </custom-marker>




          <!-- <custom-marker no-watcher="false" ng-repeat="cm in vm.customMarkers" position="{{cm.address}}">
              <div class="{{cm.class}}"><div>{{cm.description}}</div> </div>
          </custom-marker> -->


          <info-window id="pool-iw" position="{{vm.poolDetails.position}}">
            <div ng-non-bindable="">

              <h2><b>{{vm.poolDetails.title}} </b>
                <button ng-show="vm.showSeePhotosButton" class="btn btn-lg btn-primary" ng-click="vm.showPhotos=true"> See Photos</button>
              </h2>
              <h4>{{vm.poolDetails.street_address}}, {{vm.poolDetails.city}}  {{vm.poolDetails.phone}}</h4>
              <!-- <p>{{vm.poolDetails.distance}}</p> -->
              <p><a ng-click="vm.clickedWebsiteLink(vm.poolDetails.website)">Website</a></p>

              <div ng-repeat="r in vm.poolDetails.reviews">
                <img  ng-src="{{r.url}}" style="height:60px; width:60px;">
                <h4>{{r.author}}</h4>
                <h4>
                  <span>{{r.rating}}</span>
                  <span class="fa fa-star"> </span>
                  <span> {{r.text}}</span>
                </h4>
                <br>
              </div>

            </div>
          </info-window>

        </ng-map>
      </div> <!--END map and marker List#1 (pins and pop-up info-window)   -->

    </div> <!-- end map w/ markers, info-window-->

    <!-- *********************************************************************       -->

    <!-- marker List#2 or infoList(markers) and pool info displayed separate from map-->
    <div class="row">
      <div class="center-block">
        <div class="col-sm-3 nopadding infoListItem myBorder" style="float:left" ng-class="{'selectedPool':vm.poolDetails.id==pool.id}"
        ng-repeat="pool in vm.markerList" ng-if="pool.visible" ng-click="vm.showDetail(null, pool)">

        <div class="col-xs-2">
          <img ng-src="{{vm.getIcon($index)}}"/>
        </div>

        <div class="">
          <b>{{pool.title}}</b>, {{pool.city}}<br/>
        </div>

      </div>
    </div><!-- end info list (marker list#2) -->
  </div>


  <!-- *********************************************************************       -->

  <div class="">
    <span style="width:100%;height:500px;" class="" ng-show="vm.showPhotos" ng-repeat="pic in vm.poolPhotos.photoUrlsArray">
      <img class="aePoolPhotos" ng-src="{{pic}}" >
      <!-- class="infoWindowPics" -->
      <!-- ng-class="{hoverInfoWindowPics: hover}" -->
      <!-- ng-mouseenter="hover = true" -->
      <!-- ng-mouseleave="hover = false" -->
    </span>

  </div>

</div> <!-- end whole page row -->
</div> <!-- end whole page container -->
