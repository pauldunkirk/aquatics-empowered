<div class="row">
  <div class="row">
    <div class="col-md-8">
      <form ng-submit="maps.poolSearch()">
        <input id="addressSearch" type="text" ng-model="maps.addr" placeholder="Address or zip code"/>
        <p />
        <input type="number" ng-model="maps.radius" placeholder="Search radius (mi)"/>
        <button class="btn-default" type="submit">Submit</button>
        <button class="btn-default" type="reset" ng-click="maps.reset()">Reset</button>
        <span>Showing (up to) the nearest {{maps.maxMarkers}} pools.</span>
      </form>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8" map-lazy-load="https://maps.google.com/maps/api/js?libraries=geometry&key=AIzaSyCAlpI__XCJRk774DrR8FMBBaFpEJdkH1o">

      <ng-map class="gMap" center="{{maps.mapCenter}}" zoom="11" on-dragend="maps.newCenter()">
        <marker no-watcher="false"
          ng-repeat="p in maps.markerList"
          position="{{p.position}}"
          title="{{p.title}}"
          distance="{{p.distance}}"
          icon="{{maps.getIcon($index)}}"
          on-click="maps.showDetail(p)"
          ng-if="p.visible"
        />

        <info-window id="pool-iw" position="{{maps.pool.position}}">
          <div ng-non-bindable="">
            <b>{{maps.pool.title}}</b><br/>
            {{maps.pool.distance.toFixed(2)}} miles away<br />
            {{maps.pool.street_address}}<br/>
            {{maps.pool.city}}, {{maps.pool.state}} {{maps.pool.zip}}<br/>
            <a href="" ng-click="maps.clicked(maps.pool.website)">Website</a>
          </div>
        </info-window>
      </ng-map>

    </div>
    <div class="col-md-4 infoList">
      <div class="row poolItem" ng-if="pool.visible" ng-repeat="pool in maps.markerList">
       <div class="col-md-2 rank">
         <img ng-src="{{maps.getIcon($index)}}" alt="{{$index + 1}}" ng-click="maps.showDetail(null, pool)" />
         <p>{{pool.distance.toFixed(2)}}mi</p>
       </div>
       <div class="col-md-10 info">
         <b>{{pool.title}}</b><br/>
         {{pool.street_address}}<br/>
         {{pool.city}}, {{pool.state}} {{pool.zip}}<br/>
         <a href="" ng-click="maps.clicked(maps.pool.website)">Website</a>
       </div>
      </div>
    </div>

  </div>



</div>
